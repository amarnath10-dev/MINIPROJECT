from picamera2 import Picamera2
import cv2
from ultralytics import YOLO
import pyttsx3
import time

# Initialize TTS engine
engine = pyttsx3.init()
engine.setProperty('rate', 150)

# Load YOLOv8 model
model = YOLO("yolov8n.pt")

# Start Pi Camera
picam2 = Picamera2()
picam2.configure(picam2.create_preview_configuration(main={"format": "RGB888", "size": (640, 480)}))
picam2.start()
time.sleep(2)  # allow camera to warm up

print("Smart Assistant is ready. Press Enter to detect an object or Ctrl+C to exit.")

def detect_and_speak():
    frame = picam2.capture_array()
    results = model(frame)
    names = results[0].names
    boxes = results[0].boxes

    if boxes.shape[0] > 0:
        top_box = boxes[0]
        conf_score = float(top_box.conf[0])
        if